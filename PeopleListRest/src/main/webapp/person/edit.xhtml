<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets">
    <h:head>
        <title>Facelet Title</title>
    </h:head>
    <f:metadata>
        <f:viewParam name="id" value="#{personBean.currentPersonID}"/>
        <f:viewAction action="#{personBean.initPerson}"></f:viewAction>
    </f:metadata>
    <h:body>
        <ui:composition template="../main.xhtml">

            <ui:define name="content">

                <div class="container">

                    <h:link outcome="list.xhtml?faces-redirect=true" value="home"/>
                    <br />

                    <h1>Person details</h1>

                    <h:panelGrid rendered="#{personBean.currentPerson.id != null}" columns="2">
                        <h:form>
                            <div class="form-group">
                                <h:outputLabel value="ID" for="id"/>
                                <h:outputText id="id" class="form-control" value="#{personBean.currentPerson.id}"/>
                            </div>
                            <div class="form-group">
                                <h:outputLabel value="First name" for="firstName"/>
                                <h:inputText id="firstName" class="form-control" value="#{personBean.currentPerson.firstName}"/>
                            </div>
                            <div class="form-group">
                                <h:outputLabel value="Last name" for="lastName"/>
                                <h:inputText id="lastName" class="form-control" value="#{personBean.currentPerson.lastName}"/>
                            </div>
                            <h:commandButton class="btn btn-default" action="#{personBean.update(personBean.currentPerson)}" value="save">
                            </h:commandButton>
                            &nbsp;
                            <h:commandButton class="btn btn-default" action="#{personBean.delete(personBean.currentPerson)}" value="delete">
                            </h:commandButton>
                        </h:form>
                    </h:panelGrid>

                    <h:panelGrid rendered="#{personBean.currentPerson.id == null}">
                        <h:form>
                            <div class="form-group">
                                <h:outputLabel value="Gender" for="gender"/>
                                <h:selectOneMenu class="form-control" id="gender" value="#{personBean.currentPerson.gender}" required="true">
                                    <f:selectItem itemValue="male" itemLabel="male" />
                                    <f:selectItem itemValue="female" itemLabel="female" />
                                </h:selectOneMenu>
                            </div>

                            <div class="form-group">
                                <h:outputLabel value="First name" for="firstName"/>
                                <h:inputText id="firstName" class="form-control" value="#{personBean.currentPerson.firstName}" title="PrÃ©nom" required="true" requiredMessage="" maxlength="20" />
                            </div>

                            <div class="form-group">
                                <h:outputLabel value="Last name" for="lastName"/>
                                <h:inputText id="lastName" class="form-control" value="#{personBean.currentPerson.lastName}" title="Nom" required="true" requiredMessage="" maxlength="20" />
                            </div>

                            <div class="form-group">
                                <h:outputLabel value="Married" for="married"/>
                                <h:selectOneRadio id="married" value="#{personBean.currentPerson.married}">
                                    <f:selectItem class="radio-inline" itemValue="#{true}" itemLabel="Oui" />
                                    <f:selectItem class="radio-inline" itemValue="#{false}" itemLabel="Non" />
                                </h:selectOneRadio>
                            </div>

                            <div class="form-group">
                                <h:outputLabel value="Married" for="birthDate"/>
                                <h:inputText id="birthDate" value="#{personBean.currentPerson.birthDate}" title="Nom" required="true" requiredMessage="" maxlength="20" >  
                                    <f:convertDateTime pattern="dd.mm.yyyy"/>  
                                </h:inputText>
                            </div>

                            <h:commandButton action="#{personBean.save(personBean.currentPerson)}" value="add">
                            </h:commandButton>

                        </h:form>
                    </h:panelGrid>

                </div>

            </ui:define>

        </ui:composition>
    </h:body>
</html>